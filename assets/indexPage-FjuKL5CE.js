import{j as O,r as l,w as te,u as j,K as le,k as f,l as i,p as o,A as _,L as se,z as P,T as oe,v as ae,x as q,F as A,N as F,P as Q,D as E,Q as ne,f as L,q as re,s as G,S as ce,U as ie}from"./vendor-BQcZEzZR.js";import{_ as ue}from"./CvTemplatePreview.vue_vue_type_script_setup_true_lang-DuxhJ7Wx.js";import{_ as de}from"./CvCard.vue_vue_type_script_setup_true_lang-D5KWr1zD.js";import{_ as ve,s as pe}from"./index-D-9_l-Mc.js";import{g as me}from"./resumeTemplate-DD_MMBNP.js";import"./useTemplateStore-DldKuVnS.js";const he="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740917653869'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2874'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M460.8%20729c-71.7%200-139.1-27.9-189.9-78.6-50.7-50.7-78.6-118.1-78.6-189.9%200-71.7%2027.9-139.1%2078.6-189.9C321.5%20219.9%20389%20192%20460.8%20192c71.7%200%20139.1%2027.9%20189.9%2078.6%2050.7%2050.7%2078.6%20118.1%2078.6%20189.9%200%2071.7-27.9%20139.1-78.6%20189.9-50.8%2050.8-118.2%2078.6-189.9%2078.6z%20m0-482.7c-57.2%200-111%2022.3-151.5%2062.8s-62.8%2094.3-62.8%20151.5%2022.3%20111%2062.8%20151.5%2094.3%2062.8%20151.5%2062.8%20111-22.3%20151.5-62.8%2062.8-94.3%2062.8-151.5-22.3-111-62.8-151.5c-40.5-40.4-94.3-62.8-151.5-62.8z%20m0%200'%20fill='%23ffffff'%20p-id='2875'%3e%3c/path%3e%3cpath%20d='M803.6%20831.2c-6.9%200-13.9-2.6-19.1-8L612.2%20651c-10.6-10.6-10.6-27.8%200-38.4%2010.6-10.6%2027.8-10.6%2038.4%200l172.2%20172.2c10.6%2010.6%2010.6%2027.8%200%2038.4-5.3%205.3-12.3%208-19.2%208z%20m0%200'%20fill='%23ffffff'%20p-id='2876'%3e%3c/path%3e%3c/svg%3e",fe="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1741241828817'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1917'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M232.096%20389.248a32%2032%200%200%201%2044.96-45.344l2.88%202.848L512%20607.84l232.096-261.12a32%2032%200%200%201%2041.984-5.12l3.2%202.496a32%2032%200%200%201%205.12%2041.984l-2.496%203.2-256%20288a32%2032%200%200%201-44.96%202.816l-2.88-2.848-256-288z'%20fill='%23515151'%20p-id='1918'%3e%3c/path%3e%3c/svg%3e",ge={class:"relative block"},we={class:"h-[15rem] w-full overflow-y-scroll no-scrollbar border rounded-t-lg border-gray-300"},xe={class:"p-2 pl-4"},ye=["value"],Ce=O({__name:"MultiCheck",props:{title:{type:String,default:"选项"},options:{type:Array,default:()=>["选项1","选项2","选项3"]}},emits:["update:modelValue"],setup(D,{emit:C}){const n=D,T=C,g=l(!1),m=l([]),k=l([]),S=l(null),a=l(null),h=()=>{m.value=[],T("update:modelValue",m.value)};te(m,d=>{k.value=d});const u=d=>{var v,w;const s=d.target;!((v=S.value)!=null&&v.contains(s))&&!((w=a.value)!=null&&w.contains(s))&&(g.value=!1,T("update:modelValue",k.value))};return j(()=>{document.addEventListener("click",u)}),le(()=>{document.removeEventListener("click",u)}),(d,s)=>(i(),f("div",ge,[o("button",{ref_key:"trigger",ref:S,onClick:s[0]||(s[0]=v=>g.value=!g.value),class:"flex h-[2.5rem] items-center border border-gray-300 px-4 py-2 rounded-md bg-white shadow-sm hover:bg-gray-100"},[se(P(D.title)+" ",1),s[3]||(s[3]=o("img",{src:fe,alt:"",class:"h-full ml-[8px]"},null,-1))],512),_(oe,{name:"fade-slide"},{default:ae(()=>[g.value?(i(),f("div",{key:0,ref_key:"dropdown",ref:a,class:"absolute left-0 w-48 bg-white shadow-md rounded-lg mt-2 flex flex-col items-center"},[o("div",we,[o("div",xe,[(i(!0),f(A,null,F(n.options,(v,w)=>(i(),f("label",{key:w,class:"flex items-center space-x-2 cursor-pointer p-2 hover:bg-gray-100"},[Q(o("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=M=>m.value=M),value:v,class:"w-4 h-4",onClick:s[2]||(s[2]=E(()=>{},["stop"]))},null,8,ye),[[ne,m.value]]),o("span",null,P(v),1)]))),128))])]),o("button",{onClick:E(h,["stop"]),class:"w-5/6 my-2 text-gray-800 py-2 border rounded-lg border-gray-300 hover:bg-gray-100"}," 清除 ")],512)):q("",!0)]),_:1})]))}}),B=ve(Ce,[["__scopeId","data-v-f1025e12"]]),be={key:1,class:"relative min-h-screen"},_e={class:"mx-20 pt-12"},Te={class:"flex justify-between items-center mb-10"},ke={class:"flex ml-2"},Se={class:"flex items-center mr-16 w-[16.2rem] h-[2.5rem] rounded-lg bg-[#3370ff]"},Ve={class:"flex justify-between flex-wrap gap-y-[1.5rem]"},Le={key:0,class:"absolute z-8 top-0 bg-black opacity-25 w-full h-full"},Be=O({__name:"indexPage",setup(D){const C=l(!0),n=l([]),T=l(1),g=l(10),m=l(0);j(async()=>{k()});const k=async()=>{try{const e=await me(T.value,g.value);n.value=e.data.items,m.value=e.data.total,C.value=!1}catch{pe({type:"error",message:"获取简历模板列表失败"}),C.value=!1}},S=(e,t,b,x)=>n.value.filter(c=>{const y=e!==c.resumeTemplateId,V=t===c.resumeTemplateContent.style,p=b===c.resumeTemplateContent.industry,z=x===c.resumeTemplateContent.color;return(V||p||z)&&y}),a=l(0),h=l(n==null?void 0:n.value[0]),u=l(!1),d=l(""),s=l(""),v=e=>{u.value=!u.value,h.value=r.value[e]},w=e=>{h.value=e},M=()=>{a.value>0&&a.value--,h.value=r.value[a.value]},W=()=>{a.value<r.value.length-1&&a.value++,h.value=r.value[a.value]},Y=()=>{window.scrollTo({top:0,behavior:"smooth"})},I=l([]),U=l([]),N=l([]),K=e=>{I.value=e},H=e=>{U.value=e},J=e=>{N.value=e},$=e=>[...new Set(n.value.map(t=>t.resumeTemplateContent[e]))],R=L(()=>$("style")),X=L(()=>$("industry")),Z=L(()=>$("color")),ee=()=>{s.value=d.value.trim(),console.log(s.value)},r=L(()=>{const e=s.value.toLowerCase();return n.value.filter(t=>{const b=!s.value||t.resumeTemplateName.toLowerCase().includes(e)||t.resumeTemplateContent.style.toLowerCase().includes(e)||t.resumeTemplateContent.industry.toLowerCase().includes(e)||t.resumeTemplateContent.color.toLowerCase().includes(e),x=I.value.length===0||I.value.includes(t.resumeTemplateContent.style),c=U.value.length===0||U.value.includes(t.resumeTemplateContent.industry),y=N.value.length===0||N.value.includes(t.resumeTemplateContent.color);return b&&x&&c&&y})});return(e,t)=>{var x,c,y,V;const b=re("LoadingSpinner");return C.value?(i(),G(b,{key:0})):(i(),f("div",be,[o("div",_e,[o("div",Te,[o("div",ke,[_(B,{title:"风格",options:R.value,"onUpdate:modelValue":K,class:"mr-8"},null,8,["options"]),_(B,{title:"行业",options:X.value,"onUpdate:modelValue":H,class:"mr-8"},null,8,["options"]),_(B,{title:"颜色",options:Z.value,"onUpdate:modelValue":J},null,8,["options"])]),o("div",Se,[Q(o("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>d.value=p),type:"text",placeholder:"搜索简历模板",class:"flex-1 pl-[1.2rem] h-full bg-white border rounded-lg focus:outline-none focus:border-blue-500"},null,512),[[ce,d.value]]),o("img",{src:he,class:"h-full inline-block cursor-pointer transition-all duration-200 active:scale-90 hover:scale-105 hover:rotate-6",alt:"搜索",onClick:ee})])]),o("div",Ve,[(i(!0),f(A,null,F(r.value,(p,z)=>(i(),G(de,{key:p.resumeTemplateId,cvTemplate:p,onClick:De=>v(z)},null,8,["cvTemplate","onClick"]))),128)),t[2]||(t[2]=ie('<i class="w-[279px]"></i><i class="w-[279px]"></i><i class="w-[279px]"></i><i class="w-[279px]"></i><i class="w-[279px]"></i>',5))])]),u.value?(i(),f("div",Le)):q("",!0),_(ue,{class:"fixed overflow-auto overscroll-contain no-scrollbar h-full z-9 top-0 left-0 right-0",cvTemplate:h.value,"cv-list":S((x=r.value[a.value])==null?void 0:x.resumeTemplateId,(c=r.value[a.value])==null?void 0:c.resumeTemplateContent.style,(y=r.value[a.value])==null?void 0:y.resumeTemplateContent.industry,(V=r.value[a.value])==null?void 0:V.resumeTemplateContent.color),isVisible:u.value,"onUpdate:isVisible":t[1]||(t[1]=p=>u.value=p),onChildNext:W,onChildPrev:M,onUpdateCvList:w},null,8,["cvTemplate","cv-list","isVisible"]),o("button",{onClick:Y,class:"fixed bottom-8 right-22 w-12 h-12 bg-[url(@/assets/img/cv-template/top.webp)] bg-cover rounded-full flex items-center justify-center hover:shadow-lg transition-shadow !rounded-button whitespace-nowrap"})]))}}});export{Be as default};
