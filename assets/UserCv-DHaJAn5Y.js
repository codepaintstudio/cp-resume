import{d as y,r,o as k,c as n,b as o,t as w,F as C,p as I,e as l,f as c,g as L,i as m,T as p,l as R,m as i}from"./index-DXLgdIXG.js";import{_ as $}from"./CvCard.vue_vue_type_script_setup_true_lang-C9P9zaH1.js";import{g as j,d as D}from"./resume-BRNWlmfG.js";import"./request-CJO_eqG9.js";const M={class:""},N={class:"flex justify-between items-center w-[100%] h-1/8 px-6 border-b-2 border-[#D9D9D9]"},V={class:"text-lg font-semibold"},B={class:"flex flex-wrap space-x-6 space-y-5 border-gray-300 px-10 pt-4 h-7/8 no-scrollbar overflow-scroll"},T=["onMouseenter"],z={key:0,class:"absolute h-full inset-0 rounded-lg bg-black opacity-50"},F={key:0,class:"absolute inset-0 rounded-lg flex flex-col justify-center items-center space-y-2"},S=["onClick"],E={class:"w-63 h-90 flex items-center justify-center bg-gray-200 rounded cursor-pointer hover:bg-gray-300 transition-all duration-300"},G=y({__name:"UserCv",setup(H){const a=r([]),_=r(1),g=r(10),b=r(0);k(()=>{h()});const h=async()=>{try{const e=await j(_.value,g.value);a.value=e.data.items,b.value=e.data.total}catch{alert("获取简历列表失败")}},x=async e=>{try{await D(e),a.value=a.value.filter(t=>t.resumeId!==e)}catch{alert("删除简历失败")}},d=r(null),u=e=>{d.value=e};return(e,t)=>{const f=L("RouterLink");return i(),n("div",M,[o("div",N,[o("h2",V,"我的云简历 ("+w(a.value.length)+"/10)",1)]),o("div",B,[(i(!0),n(C,null,I(a.value,s=>(i(),n("div",{key:s.resumeId,class:"relative h-90 cursor-pointer rounded-lg",onMouseenter:v=>u(s.resumeId),onMouseleave:t[0]||(t[0]=v=>u(null))},[l($,{"is-view":!1,size:"0.9"}),l(p,{name:"fade-op"},{default:c(()=>[d.value===s.resumeId?(i(),n("div",z)):m("",!0)]),_:2},1024),l(p,{name:"fade-op1"},{default:c(()=>[d.value===s.resumeId?(i(),n("div",F,[l(f,{to:`/edit/resume-${s.resumeId}`,class:"px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white rounded"},{default:c(()=>t[1]||(t[1]=[R("编辑")])),_:2},1032,["to"]),o("button",{onClick:v=>x(s.resumeId),class:"px-4 py-2 bg-white hover:bg-gray-200 text-black rounded"},"删除",8,S)])):m("",!0)]),_:2},1024)],40,T))),128)),o("div",E,[l(f,{class:"block flex items-center justify-center w-full h-full",to:"/cv"},{default:c(()=>t[2]||(t[2]=[o("span",{class:"text-4xl text-gray-500"},"+",-1)])),_:1})])])])}}});export{G as default};
