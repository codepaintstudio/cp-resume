import{j,u as L,C as B,r as a,k as p,l as x,A as N,p as t,x as w,z as E,P as c,S as f,am as k,L as z,M as A}from"./vendor-BQcZEzZR.js";import{u as F,_ as T}from"./index-D-9_l-Mc.js";import{B as K}from"./BackgroundAnimation-CSWQDXVR.js";import"./tool-hpifTAZt.js";const M={class:"relative w-screen h-screen overflow-hidden"},S={class:"flex justify-center items-center w-full h-full flex-col"},Z={class:"relative bg-[rgb(255,255,255)] w-[45rem] h-[30rem] shadow-2xl flex justify-center items-center flex-col"},D={class:"absolute left-[5rem] top-[3rem] text-[25px] font-bold"},I={key:0,class:"absolute top-[4.5rem] text-red-500 text-sm bg-red-50 px-4 py-2 rounded"},q={key:1,class:"absolute top-[4.5rem] text-red-500 text-sm bg-red-50 px-4 py-2 rounded"},G={key:2,class:"relative w-1/2 h-1/2 flex justify-center items-center flex-col"},H={key:3,class:"relative w-1/2 h-1/2 flex justify-center items-center flex-col"},J={key:0,class:"w-[25rem] text-xs text-gray-600 mb-3 px-2 py-2 rounded bg-gray-50"},O={class:"w-1/2 flex justify-around"},Q=j({__name:"indexPage",setup(W){L(()=>{h.isLoggedIn&&R.push("/")});const h=F(),R=B(),l=a(!0),g=a(!1),m=a(""),b=a(""),u=a(""),n=a(""),i=a(""),d=a(""),v=a(""),o=a(""),C=s=>s.length<6||s.length>12?"密码长度必须为6-12位":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?！@#￥%……&*（）——+【】{}；’：“”、，。《》？]+$/.test(s)?"":"密码必须包含大小写字母和数字，可以包含特殊符号",P=s=>/^[a-zA-Z0-9]{4,20}$/.test(s),_=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),U=async()=>{if(u.value="",!m.value.trim()||!b.value.trim()){u.value="用户名和密码不能为空";return}try{await h.login(m.value,b.value)}catch(s){u.value="登录过程中出现错误",console.error("登录错误:",s)}},y=async()=>{if(o.value="",!n.value||!i.value||!d.value||!v.value){o.value="所有字段都是必填的";return}if(!P(n.value)){o.value="用户名长度应在4到20个字符之间";return}if(!_(i.value)){o.value="请输入有效的邮箱地址";return}const s=C(d.value);if(s){o.value=s;return}if(d.value!==v.value){o.value="两次输入的密码不一致";return}try{await h.register(n.value,i.value,d.value,v.value)?(l.value=!0,m.value=n.value,n.value="",i.value="",d.value="",v.value="",u.value="注册成功，请登录"):u.value="注册失败"}catch(e){o.value="注册过程出现异常",console.error("注册错误:",e)}},$=()=>{l.value=!1,g.value=!1,u.value="",m.value="",b.value=""},V=()=>{l.value=!0,g.value=!1,o.value="",n.value="",i.value="",d.value="",v.value=""};return(s,e)=>(x(),p("div",M,[N(K,{class:"absolute inset-0 top-[-5vh] -z-10"}),t("div",S,[e[12]||(e[12]=t("div",{class:"w-[40vw] h-[5vw] relative flex justify-center items-center mb-[1.5vw]"},[t("div",{class:"w-[5vw] h-[5vw] mr-[1vw] bg-[url(@/assets/img/Login/Logo2.png)] bg-contain bg-no-repeat"}),t("span",{class:"text-[2vw]"},"CP-ResumeTools")],-1)),t("div",Z,[t("span",D,E(l.value?"登录":"注册"),1),l.value&&u.value?(x(),p("div",I,E(u.value),1)):w("",!0),!l.value&&o.value?(x(),p("div",q,E(o.value),1)):w("",!0),l.value?(x(),p("div",G,[c(t("input",{type:"text",class:"w-[25rem] h-[2.8rem] mb-3 border-[reg(121,116,126)] border-1 rounded-sm pl-[1.8rem] text-[#79747E] text-[15px]",placeholder:"输入账户","onUpdate:modelValue":e[0]||(e[0]=r=>m.value=r)},null,512),[[f,m.value]]),c(t("input",{type:"password",class:"w-[25rem] h-[2.8rem] mb-3 border-[reg(121,116,126)] border-1 rounded-sm pl-[1.8rem] text-[#79747E] text-[15px]",placeholder:"输入密码","onUpdate:modelValue":e[1]||(e[1]=r=>b.value=r),onKeyup:k(U,["enter"])},null,544),[[f,b.value]]),t("span",{class:"absolute right-[-1rem] bottom-[0] text-[rgb(78,131,255)] text-[13px] cursor-pointer hover:underline",onClick:$}," 注册账户 ")])):w("",!0),l.value?w("",!0):(x(),p("div",H,[c(t("input",{type:"text",class:"w-[25rem] h-[2rem] mb-1 border-[reg(121,116,126)] border-1 rounded-sm pl-[1.8rem] text-[#79747E] text-[15px]","onUpdate:modelValue":e[2]||(e[2]=r=>n.value=r),placeholder:"输入用户名"},null,512),[[f,n.value]]),c(t("input",{type:"text",class:"w-[25rem] h-[2rem] mb-3 border-[reg(121,116,126)] border-1 rounded-sm pl-[1.8rem] text-[#79747E] text-[15px]",placeholder:"输入邮箱","onUpdate:modelValue":e[3]||(e[3]=r=>i.value=r)},null,512),[[f,i.value]]),c(t("input",{type:"password",class:"w-[25rem] h-[2rem] mb-1 border-[reg(121,116,126)] border-1 rounded-sm pl-[1.8rem] text-[#79747E] text-[15px]","onUpdate:modelValue":e[4]||(e[4]=r=>d.value=r),placeholder:"输入密码",onFocus:e[5]||(e[5]=r=>g.value=!0),onBlur:e[6]||(e[6]=r=>g.value=!1),onKeyup:k(y,["enter"])},null,544),[[f,d.value]]),c(t("input",{type:"password",class:"w-[25rem] h-[2rem] mb-1 border-[reg(121,116,126)] border-1 rounded-sm pl-[1.8rem] text-[#79747E] text-[15px]","onUpdate:modelValue":e[7]||(e[7]=r=>v.value=r),placeholder:"确认密码",onKeyup:k(y,["enter"])},null,544),[[f,v.value]]),g.value?(x(),p("div",J,e[10]||(e[10]=[t("div",{class:"font-medium mb-1"},"密码要求:",-1),t("ul",{class:"list-disc pl-4"},[t("li",null,"长度6-12位字符"),t("li",null,"必须包含字母和数字"),t("li",null,"可以包含特殊符号")],-1)]))):w("",!0),t("span",{class:"absolute right-[-1rem] bottom-0 text-[rgb(145,145,145)] text-[13px]"},[e[11]||(e[11]=z(" 已有账户？ ")),t("span",{class:"text-[rgb(78,131,255)] cursor-pointer hover:underline",onClick:V}," 立即登录 ")])])),t("div",O,[t("button",{class:"text-[#79747E] border-1 border-[#79747E] w-[5rem] h-[2.2rem] rounded-sm hover:bg-[#3370FF] hover:border-0 hover:text-[#ffff]",onClick:e[8]||(e[8]=r=>l.value?U():y())}," 确定 "),t("button",{class:"text-[#79747E] border-1 border-[#79747E] w-[5rem] h-[2.2rem] rounded-sm hover:bg-[#3370FF] hover:border-0 hover:text-[#ffff]",onClick:e[9]||(e[9]=r=>l.value?A(R).push("/"):V())}," 取消 ")])])])]))}}),re=T(Q,[["__scopeId","data-v-887cf092"]]);export{re as default};
