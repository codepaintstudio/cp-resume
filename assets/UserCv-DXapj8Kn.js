import{d as w,u as C,r as a,o as I,c as l,b as r,t as T,F as j,q as L,e as n,f as c,g as N,j as f,T as p,m as R,p as u}from"./index-EepO180W.js";import{_ as S}from"./CvCard.vue_vue_type_script_setup_true_lang-CFwJc8st.js";import{g as $,d as D}from"./resume-BpKeIXiU.js";const M={class:""},V={class:"flex justify-between items-center w-[100%] h-1/8 px-6 border-b-2 border-[#D9D9D9]"},B={class:"text-lg font-semibold"},U={class:"flex flex-wrap space-x-6 space-y-5 border-gray-300 px-10 pt-4 h-7/8 no-scrollbar overflow-scroll"},z=["onMouseenter"],F={key:0,class:"absolute h-full inset-0 rounded-lg bg-black opacity-50"},P={key:0,class:"absolute inset-0 rounded-lg flex flex-col justify-center items-center space-y-2"},q=["onClick"],E={class:"w-63 h-90 flex items-center justify-center bg-gray-200 rounded cursor-pointer hover:bg-gray-300 transition-all duration-300"},K=w({__name:"UserCv",setup(H){const _=C(),s=a([]),g=a(1),b=a(10),y=a(0);I(()=>{h()});const h=async()=>{try{const t=await $(g.value,b.value);s.value=t.data.items,s.value=s.value.filter(e=>String(e.resumeUserId)===_.userId),y.value=t.data.total}catch{alert("获取简历列表失败")}},x=async t=>{try{await D(t),s.value=s.value.filter(e=>e.resumeId!==t)}catch{alert("删除简历失败")}},d=a(null),i=t=>{d.value=t},k=(t,e)=>({resumeTemplateName:t,resumeTemplateContent:{folderPath:"",thumbnail:e,style:"风格",industry:"行业",color:"颜色"}});return(t,e)=>{const m=N("RouterLink");return u(),l("div",M,[r("div",V,[r("h2",B,"我的云简历 ("+T(s.value.length)+"/10)",1)]),r("div",U,[(u(!0),l(j,null,L(s.value,o=>(u(),l("div",{key:o.resumeId,class:"relative h-90 cursor-pointer rounded-lg",onMouseenter:v=>i(o.resumeId),onMouseleave:e[0]||(e[0]=v=>i(null))},[n(S,{"is-view":!1,size:"0.9","cv-template":k(o.resumeContent.resumeTemplateName)},null,8,["cv-template"]),n(p,{name:"fade-op"},{default:c(()=>[d.value===o.resumeId?(u(),l("div",F)):f("",!0)]),_:2},1024),n(p,{name:"fade-op1"},{default:c(()=>[d.value===o.resumeId?(u(),l("div",P,[n(m,{target:"_blank",to:`/edit/resume-${o.resumeId}`,class:"px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white rounded"},{default:c(()=>e[1]||(e[1]=[R("编辑")])),_:2},1032,["to"]),r("button",{onClick:v=>x(o.resumeId),class:"px-4 py-2 bg-white hover:bg-gray-200 text-black rounded"},"删除",8,q)])):f("",!0)]),_:2},1024)],40,z))),128)),r("div",E,[n(m,{class:"block flex items-center justify-center w-full h-full",to:"/cv"},{default:c(()=>e[2]||(e[2]=[r("span",{class:"text-4xl text-gray-500"},"+",-1)])),_:1})])])])}}});export{K as default};
